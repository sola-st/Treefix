# Extracted from ./data/repos/tensorflow/tensorflow/python/kernel_tests/data_structures/list_ops_test.py
t = constant_op.constant([1.0, 2.0])
# In Eager mode, InvalidArgumentError is generated by the Compute function.
# In graph mode, ValueError is generated by the shape function.
with self.assertRaisesRegex(
    (errors.InvalidArgumentError, ValueError),
    "must be at most rank 1"):
    # Wrong element_shape. Should be at most rank 1.
    l = list_ops.tensor_list_from_tensor(t, element_shape=[[1]])
    self.evaluate(l)
