# Extracted from ./data/repos/tensorflow/tensorflow/python/kernel_tests/strings_ops/string_format_op_test.py
with self.cached_session():
    tensor = array_ops.reshape(math_ops.range(1000), [10, 10, 10])
    format_output = string_ops.string_format("{}", tensor)
    out = self.evaluate(format_output)
    expected = ("[[[0 1 2 ... 7 8 9]\n"
                "  [10 11 12 ... 17 18 19]\n"
                "  [20 21 22 ... 27 28 29]\n"
                "  ...\n"
                "  [70 71 72 ... 77 78 79]\n"
                "  [80 81 82 ... 87 88 89]\n"
                "  [90 91 92 ... 97 98 99]]\n"
                "\n"
                " [[100 101 102 ... 107 108 109]\n"
                "  [110 111 112 ... 117 118 119]\n"
                "  [120 121 122 ... 127 128 129]\n"
                "  ...\n  [170 171 172 ... 177 178 179]\n"
                "  [180 181 182 ... 187 188 189]\n"
                "  [190 191 192 ... 197 198 199]]\n"
                "\n"
                " [[200 201 202 ... 207 208 209]\n"
                "  [210 211 212 ... 217 218 219]\n"
                "  [220 221 222 ... 227 228 229]\n"
                "  ...\n"
                "  [270 271 272 ... 277 278 279]\n"
                "  [280 281 282 ... 287 288 289]\n"
                "  [290 291 292 ... 297 298 299]]\n"
                "\n"
                " ...\n"
                "\n"
                " [[700 701 702 ... 707 708 709]\n"
                "  [710 711 712 ... 717 718 719]\n"
                "  [720 721 722 ... 727 728 729]\n"
                "  ...\n"
                "  [770 771 772 ... 777 778 779]\n"
                "  [780 781 782 ... 787 788 789]\n"
                "  [790 791 792 ... 797 798 799]]\n"
                "\n"
                " [[800 801 802 ... 807 808 809]\n"
                "  [810 811 812 ... 817 818 819]\n"
                "  [820 821 822 ... 827 828 829]\n"
                "  ...\n"
                "  [870 871 872 ... 877 878 879]\n"
                "  [880 881 882 ... 887 888 889]\n"
                "  [890 891 892 ... 897 898 899]]\n"
                "\n"
                " [[900 901 902 ... 907 908 909]\n"
                "  [910 911 912 ... 917 918 919]\n"
                "  [920 921 922 ... 927 928 929]\n"
                "  ...\n"
                "  [970 971 972 ... 977 978 979]\n"
                "  [980 981 982 ... 987 988 989]\n"
                "  [990 991 992 ... 997 998 999]]]")
    self.assertEqual(compat.as_text(out), expected)
